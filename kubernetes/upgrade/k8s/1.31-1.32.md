### 1. Download the public signing key for k8s package repositories
```
curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.32/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg
```

### 2. Add the appropriate k8s `apt`repository
```
echo 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.32/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list
```

### 3. Update `apt` package index
```
sudo apt update
sudo apt-cache madison kubeadm
```

### 4. Upgrade kubeadm
```
sudo apt-mark unhold kubeadm && \
sudo apt-get update && sudo apt-get install -y kubeadm='1.32.10-1.1' && \
sudo apt-mark hold kubeadm
```

### 5. Verify Kubeadm Version
```
kubeadm version
```

### 6. Verify the updgrade plan
```
sudo kubeadm upgrade plan
```

### 7. start the upgrade 
- For 1st control plane node
```
sudo kubeadm upgrade apply v1.32.10
```
- For other control plane nodes and worker nodes execute <br>
```sudo kubeadm upgrade node```

### 8. Drain the corresponding node on 1st control plane
- drain ekl-k8s-master-1
```
kubectl drain ekl-k8s-master-1.ponyworld.io --ignore-daemonsets
```
- drain ekl-k8s-worker-1
```
kubectl drain ekl-k8s-worker-1.ponyworld.io --ignore-daemonsets
```
- drain ekl-k8s-worker-2
```
kubectl drain ekl-k8s-worker-2.ponyworld.io --ignore-daemonsets
```
### 9. Upgrade kubelet und kubectl
```
sudo apt-mark unhold kubelet kubectl && \
sudo apt-get update && sudo apt-get install -y kubelet='1.32.10-1.1' kubectl='1.32.10-1.1' && \
sudo apt-mark hold kubelet kubectl
```

### 10. Restart kubelet
```
sudo systemctl daemon-reload
sudo systemctl restart kubelet
```

### 11. Uncordon the corresponding node on 1st control plane-- bring the corresponding node online
- uncordon ekl-k8s-master-1
```
kubectl uncordon ekl-k8s-master-1.ponyworld.io
```
- uncordon ekl-k8s-worker-1
```
kubectl uncordon ekl-k8s-worker-1.ponyworld.io
```
- uncordon ekl-k8s-worker-2
```
kubectl uncordon ekl-k8s-worker-2.ponyworld.io
```

### 12. Check Status of Cluster Nodes
```
kubectl get nodes -o wide 
```
